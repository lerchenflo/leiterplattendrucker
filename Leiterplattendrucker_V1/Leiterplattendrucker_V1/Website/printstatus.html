<!DOCTYPE html>
<html>
<head>
  <title>PCB Printer Website</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
    <h1>PCB Printer Status</h1>

    <div id="previewdiv">
        <canvas id="pcbPreview" width="500" height="300" style="border:1px solid #000000;"></canvas>
      </div>
      
      <div id="progessdiv">
        <h2>printing ...</h2>
        <progress id="printProgressBar" value="0" max="100"></progress>
        <span id="progessText">Progress: x %</span>
      </div>

      <script type="module">
        import {redirectIfPrinting, drawPreviewFromServer, updateProgress} from './js/ui.js';

        redirectIfPrinting(); // go back to index.html if printer is not printing
        drawPreviewFromServer(false); // draw the preview
        setInterval(updateProgress, 1000);
        
      </script>

      <script type="module">
        import {isPrinting} from './js/network_task.js';
        
      </script>

</body>